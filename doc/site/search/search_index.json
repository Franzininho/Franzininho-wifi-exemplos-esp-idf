{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Primeiros Passos Este documento tem como objetivo ajud\u00e1-lo a configurar o ESP-IDF (Espressif IoT Development Framework) para trabalhar com a Franzininho WiFi que usa o ESP32-S2 da Espressif. Ao final, faremos um exemplo simples para compilar, gravar e monitorar usando o ESP-IDF, assim, garantiremos que tudo estar\u00e1 funcionando. Introdu\u00e7\u00e3o Para essa configura\u00e7\u00e3o, vamos instalar o ESP-IDF e us\u00e1-lo atrav\u00e9s de linha de comando. Caso voc\u00ea queira usar o IDF integrado a ambientes de desenvolvimento integrado (IDE) como VScode e Eclipse, confira os seguintes links: Eclipse Plugin VS Code Extension Voc\u00ea poder\u00e1 instar o ESP-IDF no seu sistemas operacional preferido (Linux, Windows, macOS). Para a experi\u00eancia completa, voc\u00ea precisar\u00e1 de uma placa Franzininho WiFi, Computador: com Windows, Linux ou macOS Passo 1 - Instala\u00e7\u00e3o dos pr\u00e9-requisitos Algumas ferramentas precisam ser instaladas no computador antes de prosseguir para as pr\u00f3ximas etapas. Siga os links abaixo para obter as instru\u00e7\u00f5es para o seu sistema operacional: Windows Linux Mac OS \u00c9 muito importante a instala\u00e7\u00e3o de todos os pr\u00e9-requisitos. Passo 2 - Instala\u00e7\u00e3o do ESP-IDF Nessa etapa vamos instalar o ESP-IDF e conjunto de ferramentas e bibliotecas. Vamos usar o c\u00f3digo mantido pela Espressif no reposit\u00f3rio do ESP-IDF O ESP-IDF \u00e9 o framework oficial da Espressif para o desenvolvimento de aplica\u00e7\u00f5es parar toda a fam\u00edlia ESP32. O procedimento apresentado aqui servir\u00e1 para trabalhar com toda a fam\u00edlia ESP32. Por\u00e9m vamos dar foco ao ESP32-S2 que \u00e9 usado na Franzininho WiFi. Linux e macOS Abra o terminal e execute: mkdir -p ~/esp cd ~/esp git clone --recursive https://github.com/espressif/esp-idf.git O ESP-IDF ser\u00e1 baixado no seguinte reposit\u00f3rio ~/esp/esp-idf . Windows Al\u00e9m de instalar as ferramentas, o ESP-IDF Tools Installer para Windows apresentado na Etapa 1 tamb\u00e9m pode baixar uma c\u00f3pia do ESP-IDF. Dessa forma voc\u00ea n\u00e3o precisar\u00e1 baixar o ESP-IDF agora, se j\u00e1 tiver baixado anteriormente junto aos pr\u00e9-requisitos Se desejar fazer o download do ESP-IDF sem a ajuda do ESP-IDF Tools Installer, consulte estas instru\u00e7\u00f5es . Instalando O ESP-IDF e ferramentas Al\u00e9m do ESP-IDF, voc\u00ea tamb\u00e9m precisa instalar as ferramentas usadas pelo ESP-IDF, como compilador, depurador, pacotes Python, etc. Windows O ESP-IDF Tools Installer para Windows apresentado no passo 1 instala todas as ferramentas necess\u00e1rias. Se voc\u00ea deseja instalar as ferramentas sem a ajuda do ESP-IDF Tools Installer, abra o Prompt de Comando e siga estas etapas: cd %userprofile%\\esp\\esp-idf install.bat Ou no Windows PowerShell cd ~/esp/esp-idf ./install.ps1 Linux e macOS No Linux ou macOS h\u00e1 um script para instala\u00e7\u00e3o.Abra o terminal e execute: cd ~/esp/esp-idf ./install.sh Configurando as vari\u00e1veis de ambientes As ferramentas instaladas ainda n\u00e3o foram adicionadas \u00e0 vari\u00e1vel de ambiente PATH. Para tornar as ferramentas utiliz\u00e1veis na linha de comando, algumas vari\u00e1veis de ambiente devem ser definidas. ESP-IDF fornece alguns scripts que ajudam nesse processo. Windows O ESP-IDF Tools Installer para Windows cria um atalho \u201cESP-IDF Command Prompt\u201d no menu Iniciar. Este atalho abre o Prompt de Comando e configura todas as vari\u00e1veis de ambiente necess\u00e1rias. Voc\u00ea pode abrir este atalho e prosseguir para a pr\u00f3xima etapa. Caso n\u00e3o funcione e voc\u00ea precise configurar manualmente, execute os seguintes comandos: Prompt de Comando : %userprofile%\\esp\\esp-idf\\export.bat Windows PowerShell : .$HOME/esp/esp-idf/export.ps1 Linux e macOS No terminal execute: . $HOME/esp/esp-idf/export.sh Voc\u00ea precisa fazer isso toda vez que iniciar o terminal para usar o ESP-IDF. Passo 3 - Criando um novo projeto Agora que j\u00e1 temos as ferramentas instaladas, vamos fazer um exemplo para validar o funcionamento das mesmas. Vamos executar o exemplo blink que j\u00e1 vem no IDF. Copiando um projeto exemplo Vamos copiar o projeto blink para preservarmos o exemplo presente na pasta do IDF: Windows cd %userprofile%\\esp xcopy /e /i %IDF_PATH%\\examples\\get-started\\blink blink Linux e macOS cd ~/esp cp -r $IDF_PATH/examples/get-started/blink . Fique a vontade para testar os outros exemplos tamb\u00e9m. O sistema de compila\u00e7\u00e3o ESP-IDF n\u00e3o oferece suporte a espa\u00e7os nos caminhos para o ESP-IDF ou para projetos. Configura\u00e7\u00e3o Agora vamos configurar o target para qual ser\u00e1 compilado e j\u00e1 fazer uma configura\u00e7\u00e3o no menuconfig. No nosso caso vamos trabalhar com o ESP32-S2: Windows cd %userprofile%\\esp\\blink idf.py set-target esp32s2 idf.py menuconfig Linux e macOS cd ~/esp/blink idf.py set-target esp32s2 idf.py menuconfig Ser\u00e1 aberto o menuconfig: Acesse a op\u00e7\u00e3o Component config ---> Em seguida ESP System Settings ---> Agora selecione Channel for console output (Default: UART0) ---> E por fim, selecione (X) USB CDC: Salve(S), Enter, enter, Saia do menu(ESC) Essa configura\u00e7\u00e3o permitir\u00e1 que usemos a USB no pr\u00f3ximo upload. Sempre que iniciar um projeto novo fa\u00e7a essas configura\u00e7\u00e3o para que continue usando a USB. Para mais detalhes acesse: Compilando o projeto em modo DFU A primeira compila\u00e7\u00e3o n\u00f3s vamos fazer usando o modo DFU, que j\u00e1 vem por padr\u00e3o no ESP32-S2 permitindo o upload atrav\u00e9s da USB: Para crie a imagem DFU: idf.py dfu A primeira compila\u00e7\u00e3o pode demorar um pouco. Da at\u00e9 pra ir pegar um caf\u00e9 ;) Ap\u00f3s a compila\u00e7\u00e3o, conecte a Franzininho WiFi no computador. Antes de fazermos o upload \u00e9 necessario entrar no modo DFU. Para entrar no modo DFU pressione as teclas na seguinte sequencia: pressione e segure a tecla BOOT pressione rapidamente e solte a tecla presente solte a tecla BOOT Dessa forma a placa entrar\u00e1 no modo DFU e poder\u00e1 receber o firmware atrav\u00e9s da USB. Para fazer a grava\u00e7\u00e3o, digite: idf.py dfu-flash Caso tenha permiss\u00e3o de acesso a porta USB, acesse esse link com as instru\u00e7\u00f5es de configura\u00e7\u00f5es Ap\u00f3s alguns segundos a placa estar\u00e1 gravada. Compila\u00e7\u00e3o, grava\u00e7\u00e3o e monitor em modo normal Agora voc\u00ea poder\u00e1 compilar, gravar e monitorar usando a porta USB. Esse processo \u00e9 identico ao que fazemos para desenvolver com o ESP32: Compilar: idf.py build Gravar: idf.py -p PORT [-b BAUD] flash Monitorar: idf.py -p /dev/ttyUSB0 monitor Maravilha, voc\u00ea configurou o ambiente para trabalhar com o ESP-IDF. Caso queira trabalhar com a extens\u00e3o para VSCODE, confira o video:","title":"Primeiros passos"},{"location":"#primeiros-passos","text":"Este documento tem como objetivo ajud\u00e1-lo a configurar o ESP-IDF (Espressif IoT Development Framework) para trabalhar com a Franzininho WiFi que usa o ESP32-S2 da Espressif. Ao final, faremos um exemplo simples para compilar, gravar e monitorar usando o ESP-IDF, assim, garantiremos que tudo estar\u00e1 funcionando.","title":"Primeiros Passos"},{"location":"#introducao","text":"Para essa configura\u00e7\u00e3o, vamos instalar o ESP-IDF e us\u00e1-lo atrav\u00e9s de linha de comando. Caso voc\u00ea queira usar o IDF integrado a ambientes de desenvolvimento integrado (IDE) como VScode e Eclipse, confira os seguintes links: Eclipse Plugin VS Code Extension Voc\u00ea poder\u00e1 instar o ESP-IDF no seu sistemas operacional preferido (Linux, Windows, macOS). Para a experi\u00eancia completa, voc\u00ea precisar\u00e1 de uma placa Franzininho WiFi, Computador: com Windows, Linux ou macOS","title":"Introdu\u00e7\u00e3o"},{"location":"#passo-1-instalacao-dos-pre-requisitos","text":"Algumas ferramentas precisam ser instaladas no computador antes de prosseguir para as pr\u00f3ximas etapas. Siga os links abaixo para obter as instru\u00e7\u00f5es para o seu sistema operacional: Windows Linux Mac OS \u00c9 muito importante a instala\u00e7\u00e3o de todos os pr\u00e9-requisitos.","title":"Passo 1 - Instala\u00e7\u00e3o dos pr\u00e9-requisitos"},{"location":"#passo-2-instalacao-do-esp-idf","text":"Nessa etapa vamos instalar o ESP-IDF e conjunto de ferramentas e bibliotecas. Vamos usar o c\u00f3digo mantido pela Espressif no reposit\u00f3rio do ESP-IDF O ESP-IDF \u00e9 o framework oficial da Espressif para o desenvolvimento de aplica\u00e7\u00f5es parar toda a fam\u00edlia ESP32. O procedimento apresentado aqui servir\u00e1 para trabalhar com toda a fam\u00edlia ESP32. Por\u00e9m vamos dar foco ao ESP32-S2 que \u00e9 usado na Franzininho WiFi.","title":"Passo 2 - Instala\u00e7\u00e3o do ESP-IDF"},{"location":"#linux-e-macos","text":"Abra o terminal e execute: mkdir -p ~/esp cd ~/esp git clone --recursive https://github.com/espressif/esp-idf.git O ESP-IDF ser\u00e1 baixado no seguinte reposit\u00f3rio ~/esp/esp-idf .","title":"Linux e macOS"},{"location":"#windows","text":"Al\u00e9m de instalar as ferramentas, o ESP-IDF Tools Installer para Windows apresentado na Etapa 1 tamb\u00e9m pode baixar uma c\u00f3pia do ESP-IDF. Dessa forma voc\u00ea n\u00e3o precisar\u00e1 baixar o ESP-IDF agora, se j\u00e1 tiver baixado anteriormente junto aos pr\u00e9-requisitos Se desejar fazer o download do ESP-IDF sem a ajuda do ESP-IDF Tools Installer, consulte estas instru\u00e7\u00f5es .","title":"Windows"},{"location":"#instalando-o-esp-idf-e-ferramentas","text":"Al\u00e9m do ESP-IDF, voc\u00ea tamb\u00e9m precisa instalar as ferramentas usadas pelo ESP-IDF, como compilador, depurador, pacotes Python, etc.","title":"Instalando O ESP-IDF e ferramentas"},{"location":"#windows_1","text":"O ESP-IDF Tools Installer para Windows apresentado no passo 1 instala todas as ferramentas necess\u00e1rias. Se voc\u00ea deseja instalar as ferramentas sem a ajuda do ESP-IDF Tools Installer, abra o Prompt de Comando e siga estas etapas: cd %userprofile%\\esp\\esp-idf install.bat Ou no Windows PowerShell cd ~/esp/esp-idf ./install.ps1","title":"Windows"},{"location":"#linux-e-macos_1","text":"No Linux ou macOS h\u00e1 um script para instala\u00e7\u00e3o.Abra o terminal e execute: cd ~/esp/esp-idf ./install.sh","title":"Linux e macOS"},{"location":"#configurando-as-variaveis-de-ambientes","text":"As ferramentas instaladas ainda n\u00e3o foram adicionadas \u00e0 vari\u00e1vel de ambiente PATH. Para tornar as ferramentas utiliz\u00e1veis na linha de comando, algumas vari\u00e1veis de ambiente devem ser definidas. ESP-IDF fornece alguns scripts que ajudam nesse processo.","title":"Configurando as vari\u00e1veis de ambientes"},{"location":"#windows_2","text":"O ESP-IDF Tools Installer para Windows cria um atalho \u201cESP-IDF Command Prompt\u201d no menu Iniciar. Este atalho abre o Prompt de Comando e configura todas as vari\u00e1veis de ambiente necess\u00e1rias. Voc\u00ea pode abrir este atalho e prosseguir para a pr\u00f3xima etapa. Caso n\u00e3o funcione e voc\u00ea precise configurar manualmente, execute os seguintes comandos: Prompt de Comando : %userprofile%\\esp\\esp-idf\\export.bat Windows PowerShell : .$HOME/esp/esp-idf/export.ps1","title":"Windows"},{"location":"#linux-e-macos_2","text":"No terminal execute: . $HOME/esp/esp-idf/export.sh Voc\u00ea precisa fazer isso toda vez que iniciar o terminal para usar o ESP-IDF.","title":"Linux e macOS"},{"location":"#passo-3-criando-um-novo-projeto","text":"Agora que j\u00e1 temos as ferramentas instaladas, vamos fazer um exemplo para validar o funcionamento das mesmas. Vamos executar o exemplo blink que j\u00e1 vem no IDF.","title":"Passo 3 - Criando um novo projeto"},{"location":"#copiando-um-projeto-exemplo","text":"Vamos copiar o projeto blink para preservarmos o exemplo presente na pasta do IDF:","title":"Copiando um projeto exemplo"},{"location":"#windows_3","text":"cd %userprofile%\\esp xcopy /e /i %IDF_PATH%\\examples\\get-started\\blink blink","title":"Windows"},{"location":"#linux-e-macos_3","text":"cd ~/esp cp -r $IDF_PATH/examples/get-started/blink . Fique a vontade para testar os outros exemplos tamb\u00e9m. O sistema de compila\u00e7\u00e3o ESP-IDF n\u00e3o oferece suporte a espa\u00e7os nos caminhos para o ESP-IDF ou para projetos.","title":"Linux e macOS"},{"location":"#configuracao","text":"Agora vamos configurar o target para qual ser\u00e1 compilado e j\u00e1 fazer uma configura\u00e7\u00e3o no menuconfig. No nosso caso vamos trabalhar com o ESP32-S2:","title":"Configura\u00e7\u00e3o"},{"location":"#windows_4","text":"cd %userprofile%\\esp\\blink idf.py set-target esp32s2 idf.py menuconfig","title":"Windows"},{"location":"#linux-e-macos_4","text":"cd ~/esp/blink idf.py set-target esp32s2 idf.py menuconfig Ser\u00e1 aberto o menuconfig: Acesse a op\u00e7\u00e3o Component config ---> Em seguida ESP System Settings ---> Agora selecione Channel for console output (Default: UART0) ---> E por fim, selecione (X) USB CDC: Salve(S), Enter, enter, Saia do menu(ESC) Essa configura\u00e7\u00e3o permitir\u00e1 que usemos a USB no pr\u00f3ximo upload. Sempre que iniciar um projeto novo fa\u00e7a essas configura\u00e7\u00e3o para que continue usando a USB. Para mais detalhes acesse:","title":"Linux e macOS"},{"location":"#compilando-o-projeto-em-modo-dfu","text":"A primeira compila\u00e7\u00e3o n\u00f3s vamos fazer usando o modo DFU, que j\u00e1 vem por padr\u00e3o no ESP32-S2 permitindo o upload atrav\u00e9s da USB: Para crie a imagem DFU: idf.py dfu A primeira compila\u00e7\u00e3o pode demorar um pouco. Da at\u00e9 pra ir pegar um caf\u00e9 ;) Ap\u00f3s a compila\u00e7\u00e3o, conecte a Franzininho WiFi no computador. Antes de fazermos o upload \u00e9 necessario entrar no modo DFU. Para entrar no modo DFU pressione as teclas na seguinte sequencia: pressione e segure a tecla BOOT pressione rapidamente e solte a tecla presente solte a tecla BOOT Dessa forma a placa entrar\u00e1 no modo DFU e poder\u00e1 receber o firmware atrav\u00e9s da USB. Para fazer a grava\u00e7\u00e3o, digite: idf.py dfu-flash Caso tenha permiss\u00e3o de acesso a porta USB, acesse esse link com as instru\u00e7\u00f5es de configura\u00e7\u00f5es Ap\u00f3s alguns segundos a placa estar\u00e1 gravada.","title":"Compilando o projeto em modo DFU"},{"location":"#compilacao-gravacao-e-monitor-em-modo-normal","text":"Agora voc\u00ea poder\u00e1 compilar, gravar e monitorar usando a porta USB. Esse processo \u00e9 identico ao que fazemos para desenvolver com o ESP32: Compilar: idf.py build Gravar: idf.py -p PORT [-b BAUD] flash Monitorar: idf.py -p /dev/ttyUSB0 monitor Maravilha, voc\u00ea configurou o ambiente para trabalhar com o ESP-IDF. Caso queira trabalhar com a extens\u00e3o para VSCODE, confira o video:","title":"Compila\u00e7\u00e3o, grava\u00e7\u00e3o e monitor em modo normal"},{"location":"about/","text":"Sobre","title":"Sobre"},{"location":"about/#sobre","text":"","title":"Sobre"},{"location":"exemplos/entrada_digital/","text":"Entrada digital","title":"Entrada digital"},{"location":"exemplos/entrada_digital/#entrada-digital","text":"","title":"Entrada digital"},{"location":"exemplos/saida_digital/","text":"Sa\u00edda digital","title":"Sa\u00edda Digital"},{"location":"exemplos/saida_digital/#saida-digital","text":"","title":"Sa\u00edda digital"}]}