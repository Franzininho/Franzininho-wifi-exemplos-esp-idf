<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  
  <title>Hello, World! - Franzininho WiFi - ESP-IDF</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Hello, World!";
    var mkdocs_page_input_path = "0x01-Hello-world.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/c.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Franzininho WiFi - ESP-IDF</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Primeiros passos</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Hello, World!</a>
    <ul class="current">
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../0x02-entrada-digital/">Entrada digital</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Franzininho WiFi - ESP-IDF</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Hello, World!</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Franzininho/exemplos-esp-idf/edit/master/docs/0x01-Hello-world.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="introducao">Introdução</h2>
<p>O artigo proposto dará início a uma série de projetos utilizando o framework oficial da Espressif, o IDF. O objetivo deste artigo é apresentar um exemplo de projeto que sirva como base para aqueles que estão dando seus primeiros passos na família de microcontroladores ESP32.</p>
<p>Como é de praxe na programação sempre que iniciamos uma nova linguagem ou quando aprendemos sobre um novo processador o primeiro projeto a ser criado é o “Olá Mundo“, caso contrário teremos um eterno azar, então o que acha de começarmos a estudar e apresentar nosso projeto ao Mundo?</p>
<p>Ao final desse exemplo você saberá como é a estrutura básica de um programa no ESP-IDF e estará pronto para os próximos passos.</p>
<h2 id="recursos-necessarios">Recursos Necessários</h2>
<p>Para esse exemplo você precisará dos seguintes recursos:</p>
<ul>
<li>
<p>Placa Franzininho WiFi;</p>
</li>
<li>
<p>Protoboard;</p>
</li>
<li>
<p>LED;</p>
</li>
<li>
<p>Resistor 220R ou 150R;</p>
</li>
<li>
<p>Computador com ESP-IDF instalado e configurado(link)</p>
</li>
</ul>
<h2 id="desenvolvimento">Desenvolvimento</h2>
<p>Nesse projeto foi utilizado a Franzininho WiFi, uma placa de desenvolvimento baseada no módulo ESP 32-S2 (Wroom ou Wrover), o qual faz parte de uma iniciativa open hardware para ensinar sobre programação e eletrônica aliando habilidades na soldagem de componentes eletrônicos.</p>
<p>Como mencionado, vamos fazer o Olá Mundo (Hello, World!), um programa base que tem como objetivo apresentar os recursos primários do processador em estudo. Nesse primeiro projeto vamos explorar as GPIOs, configuradas como saída digital, conectada a um LED externo para ligar e desligar numa frequência de 1 Hertz (1 segundo) e enviar alguns dados de saída para serem mostrados no monitor do editor, para aqueles que estão migrando do Arduino já estão familiarizados com esse exemplo, o famoso “Blink”.</p>
<h3 id="esquematico">Esquemático</h3>
<p>Antes de começarmos a escrever as primeiras linhas de código vamos realizar a montagem do circuito, vale ressaltar que na placa Franzininho WiFi há um LED RGB on board endereçável, contudo será utilizado um LED externo, conectado a GPIO 2 ,para o primeiro projeto, vamos nos familiarizarmos com os comandos básicos. Abaixo segue o esquemático proposto:</p>
<p><img alt="Hello World_circuito" src="../img/0x01-Hello-world/01-esquematico.jpg" /></p>
<h3 id="codigo">Código</h3>
<p>O nosso código possui uma estrutura bem simples e não é necessário acrescentar nenhuma biblioteca. Ao criar um novo projeto no IDF já temos arquivos configurados e prontos para programação do dispositivo, desta forma digite e comente as linhas do seguinte código no arquivo main.c :</p>
<pre><code class="language-c">/*
 Descrição: Exemplo que mostra Hello World utilizando quatro modalidade de saída de dados por meio do
 terminal e interagindo com um LED externo para indicação de estado.

 Autor: Halysson Junior
 Data : 28/03/21
*/


// Arquivos de cabeçalho
#include &lt;stdio.h&gt;
#include &quot;freertos/FreeRTOS.h&quot;
#include &quot;freertos/task.h&quot;
#include &quot;esp_system.h&quot;
#include &quot;driver/gpio.h&quot;


// Definição de pino

#define LED 2

// Variável Global
char status[2] = {'L','H'}; // Caracter para indicar estado do LED H- HIGH e L - LOW


void app_main(void) // Main
{

    gpio_pad_select_gpio(LED);// Mapeamento do pino LED
    gpio_set_direction(LED,GPIO_MODE_OUTPUT); // Definição

    printf(&quot;Exemplo - Hello World \n&quot;);// Mostra informação no terminal


    //Variáveis Local
     bool i = 0 ; // Varia o estado lógico do LED

      for (;;) {// Loop

        i= i^1; // Operação lógica XOR para alternar o estado do LED
        gpio_set_level(LED,i); // Envia os níveis lógicos 1 ou 0

       printf(&quot;Hello World, i am Franzininho WiFi ----&gt; LED status : %c \n&quot;, status[i]);

        vTaskDelay(1000 / portTICK_PERIOD_MS); // Rotina de Delay de 1 segundo
        fflush(stdout);  // Descarrega os buffers de saída de dados   

    }// end Loop


}// end Main
</code></pre>
<p>Você encontra o projeto completo na documentação da Franzininho: <a href="https://github.com/Franzininho/exemplos-esp-idf">Hello_World</a></p>
<p>Caso ainda não tenha instalado e configurado o IDF no seu computador ou tem dúvidas sobre as ferramentas, acesse o <a href="https://franzininho.github.io/exemplos-esp-idf/">tutorial de instalação</a></p>
<h3 id="compilacao">Compilação</h3>
<p>Após a codificação vamos compilar o código, mas antes selecione o set target para ESP 32-S2.</p>
<p><code>idf.py set-target esp32s2</code></p>
<p>Ao final da compilação o resultado final deve ser semelhante à imagem mostrada abaixo, em caso de erros retorne os passos anteriores e revise seu código.</p>
<p><img alt="resultado da compilação" src="../img/0x01-Hello-world/02-compilacao.png" /></p>
<p>Agora  vamos enviar o código fonte para nossa placa, no editor vamos pressionar o ícone abaixo e aguarde alguns segundos para assim dar início ao programa “Olá Mundo”.</p>
<p><img alt="Gravando" src="../img/0x01-Hello-world/03-flash.png" /></p>
<p>Para vermos a saída de dados do nosso projeto clique no ícone apresentado abaixo.</p>
<p><img alt="Monitor" src="../img/0x01-Hello-world/04-monitorar.png" /></p>
<h3 id="resultados">Resultados</h3>
<p>Com a finalização do projeto o leitor observou que utilizamos uma estruturação da linguagem C (main(), printf, fflush()), laços de repetição (for()) e alguns tipos de variáveis primitivas (int e char) para formar nosso código . Aliados a isso utilizamos labels nativas do IDF para definir os pinos de entrada ou saída digital (GPIO_MODE_OUTPUT ).</p>
<p>Abaixo segue o resultado final dos dados de saída :</p>
<p><img alt="monitor" src="../img/0x01-Hello-world/05-monitor.png" /></p>
<h2 id="abaixo-segue-o-nosso-circuito-do-nosso-projeto">Abaixo segue o nosso circuito do nosso projeto:</h2>
<p><img alt="Monitor" src="../img/0x01-Hello-world/06-circuito-montado.png" /></p>
<p>Portanto, a partir deste projeto é possível aplicar a lógica estruturada no código em diversos outros tipos de sensores, por exemplo : sensor de vibração, sensor infravermelho, sensor de som e outros sensores digitais comumente comercializados.</p>
<h2 id="conclusao">Conclusão</h2>
<p>Nesse projeto apresentamos os conceitos básicos para aqueles que desejam dar o pontapé inicial nos estudos sobre o IDF, contudo aconselhamos aos leitores a modificar o código no intuito de revisar a linguagem C e fixar algumas funções nativas, os quais serão normalmente utilizadas em outros projetos também não limitar-se apenas aos periféricos GPIOs do microcontrolador, pois o ESP32-S2 possui diversos recursos tanto em hardware quanto em software. Desta forma o artigo servirá de acervo aos leitores para relembrar conceitos específicos e aprimorar os que já possuem.</p>
<table>
<thead>
<tr>
<th>Autor</th>
<th><a href="https://github.com/halyssonJr">Halysson Junior</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>Data:</td>
<td>13/05/2021</td>
</tr>
</tbody>
</table>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../0x02-entrada-digital/" class="btn btn-neutral float-right" title="Entrada digital">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Primeiros passos"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/Franzininho/exemplos-esp-idf/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../0x02-entrada-digital/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
